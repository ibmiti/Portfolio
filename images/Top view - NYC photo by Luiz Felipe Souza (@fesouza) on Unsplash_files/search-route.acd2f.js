(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1016:function(e,t,n){"use strict";var r=n(9),a=n.n(r),o=n(0),c=n.n(o),i=n(13),s=n(29),u=n(1021),l=n.n(u),p=Object(i.a)()({slicedPadding:!1}),d=Object(s.a)(p)(function(e){var t=e.title,n=e.className,r=e.children,o=e.slicedPadding;return c.a.createElement("div",{className:a()(o?l.a.containerSliced:l.a.container,n)},c.a.createElement("div",{className:l.a.containerPageHeader},c.a.createElement("h1",{className:l.a.title,"data-test":"page-header-title"},t),c.a.createElement("div",{className:l.a.children},r)))});n.d(t,"a",function(){return d})},1021:function(e,t,n){e.exports={clearfix:"_2KLco",container:"_2v9nm _2KLco _2sCnE PrOBO _1CR66",containerLayout:"PrOBO","sm-col-8":"_1pgnK","sm-col-10":"_3zWw2","md-col-6":"_5KnKv","md-col-8":"_2Mu9I","--sm-min":"(--sm-min)",headingL:"_2RmO0",bodyCopy:"_1iWCF",containerSliced:"_29nV2 _2KLco PrOBO",title:"_1GUcz _2RmO0 _3zWw2 _2Mu9I",children:"_3NchO _1iWCF _1pgnK _5KnKv"}},1032:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r=600,a=500},1324:function(e,t,n){e.exports={"--sm-min":"(--sm-min)","--xs-max":"(--xs-max)",colorWhite:"#fff",colorLightBlack:"#111",bodyCopy:"_1iWCF",textDecorationNone:"_1CBrG",fontWeightMedium:"xLon9",searchLink:"_39jII _1CBrG",searchLinkActive:"_3sixz",searchNumber:"_3vsmH _1iWCF xLon9",label:"_3CrUz _1iWCF"}},1326:function(e,t,n){e.exports={"--sm-min":"(--sm-min)",filterNavContainer:"_381-n"}},1328:function(e,t,n){e.exports={container:"Rj-P_ _2sCnE PrOBO _1CR66",clearfix:"H0W_R _2KLco","--sm-min":"(--sm-min)",bodyCopy:"_1iWCF",fontWeightNormal:"_27Bp2",searchHeaderContainer:"PlFEu",pageHeaderContainer:"BmYLG",pageHeaderChildren:"_1u88E _1iWCF _27Bp2"}},585:function(e,t,n){"use strict";n.r(t);var r=n(132),a=n.n(r),o=n(9),c=n.n(o),i=n(280),s=n.n(i),u=n(4),l=n.n(u),p=n(0),d=n.n(p),f=n(390),h=n.n(f),m=n(16),b=n(12),y=n(11),v=n(43),O=n(1032),g=n(173),_=n(85),j=n(995),C=n(391),E=n(33),R=n(131),P=n(114),S=n(1016),w=n(1),N=n.n(w),x=n(149),q=n(93),k=n(1462),U=n(13),D=n(405),L={photos:"search-nav-link-photos",collections:"search-nav-link-collections",users:"search-nav-link-users"},F=n(1324),H=n.n(F),W=function(e){var t=e.number,n=e.type,r="/search/"+n+"/"+e.querySlug;return d.a.createElement(k.a,{"data-test":Object(U.d)(n,L),className:H.a.searchLink,activeClassName:H.a.searchLinkActive,to:{pathname:r}},d.a.createElement(D.a,{number:t,className:H.a.searchNumber}),d.a.createElement("span",{className:H.a.label},a()(n)))};W.displayName="SearchNavLink";var T=W,B=n(1326),I=n.n(B),K={search:N.a.object.isRequired},A=function(e){var t=e.search,n=t.photos,r=t.collections,a=t.users,o=t.query,c=Object(x.d)(o);return d.a.createElement("div",{className:I.a.filterNavContainer},d.a.createElement(T,{querySlug:c,number:n.total,type:q.a.photos}),d.a.createElement(T,{querySlug:c,number:r.total,type:q.a.collections}),d.a.createElement(T,{querySlug:c,number:a.total,type:q.a.users}))};A.displayName="SearchNav",A.propTypes=K;var z=A,Q=n(3),X=n(179),G=n(200),M=n(221),J=n(113),V=function(e){return{results:e.results,total:e.total,lastPageFetched:1,maxPage:Object(M.b)({total:e.total,perPage:G.c})}},Y=function(e){return function(t){var n=t.query,r=t.searchXps;return l()(function(e){return function(t){return e.search.getSearchAll(Object.assign({},t,{perPage:G.c}))}}(e),Object(X.a)(function(e){return function(t){var n=Object(J.f)(t),r=n.result,a=n.entities,o=V(r.collections);return[Object(y.rb)(a),Object(y.D)({collectionIds:o.results,lastPageFetched:o.lastPageFetched,maxPage:o.maxPage,perPage:G.c}),Object(y.tb)({relatedKeywords:r.related_searches,photos:V(r.photos),users:V(r.users),collections:{total:r.collections.total},meta:Q.a.of(r.meta),query:e})]}}(n)))({query:n,searchXps:r})}},Z=n(416),$=l()(x.b,Z.a),ee=function(e,t){var n=e.meta,r=e.query,o=e.photos,c=Object(g.j)({total:o.total}),i=Object(q.d)(n),s=Q.a.of(n.title).getOrElseL(function(){return function(e){var t=e.query,n=e.suffix;return a.a.words(t)+" "+a()(n)+" | Download Free Images on Unsplash"}({query:r,suffix:i})}),u=Q.a.of(n.description).getOrElseL(function(){return function(e){var t=e.photoTotal,n=e.query;return"Download the perfect "+n+" "+e.suffix+". Find over "+t+" of the best free "+n+" images. Free for commercial use ✓ No attribution required ✓ Copyright-free ✓"}({photoTotal:c,query:r,suffix:i})}),l=Q.a.of(n.canonical).getOrElseL(function(){return $(r)}),p=!1===n.index||0===o.total||t===q.a.users;return{title:s,meta:Object(g.g)({disableIndex:p,photos:o,title:s,description:u,canonicalUrl:l}),canonicalUrl:l}},te=n(1328),ne=n.n(te),re=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ae=Object(_.a)({loader:function(){return Promise.all([n.e(5),n.e(36)]).then(n.bind(null,1448))},chunkName:"search-collections-route",resolve:function(){return 1448}}),oe=Object(_.a)({loader:function(){return n.e(37).then(n.bind(null,1450))},chunkName:"search-users-route",resolve:function(){return 1450}}),ce=Object(_.a)({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(38)]).then(n.bind(null,1449))},chunkName:"search-photos-route",resolve:function(){return 1449}}),ie=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleQueryUpdate=function(t){var n=e.props,r=n.searchXps,a=n.dispatch;void 0!==e.previousRequestSubscription&&e.previousRequestSubscription.unsubscribe();var o=Y(v.a)({query:t,searchXps:r}).subscribe(function(e){a(y.a.RouteDataUpdated({})),a(y.a.BatchActions({actions:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[Object(y.s)()])}))});e.previousRequestSubscription=o},e.handleQueryUpdateDebounced=s()(e.handleQueryUpdate,O.b),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p["Component"]),re(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.routeData,n=e.search,r=e.renderType;t.query!==n.query&&this.clearSearchResults(),C.a.is.Unenhanced(r)?this.props.dispatch(Object(y.hb)({query:n.query,photos:n.photos,collections:n.collections,users:n.users})):this.handleQueryUpdate(t.query)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.routeData,n=e.routeData;t.query!==n.query&&(this.clearSearchResults(),this.handleQueryUpdateDebounced(n.query))}},{key:"clearSearchResults",value:function(){(0,this.props.dispatch)(y.a.BatchActions({actions:[Object(y.n)(),Object(y.D)()]}))}},{key:"renderSeoPageHeader",value:function(){var e=this.props,t=e.search,n=e.routeData,r=Object(q.c)({routeData:n,search:t}),a=r.headerTitle,o=r.text;return d.a.createElement(S.a,{title:a,className:ne.a.pageHeaderContainer},d.a.createElement("p",{className:ne.a.pageHeaderChildren},o))}},{key:"renderLoggedInPageHeader",value:function(){var e=this.props.search.query;return d.a.createElement(S.a,{title:a()(e),className:ne.a.pageHeaderContainer})}},{key:"renderSearchSubroute",value:function(){switch(this.props.routeData.searchSubRoute){case q.a.collections:return d.a.createElement(ae,null);case q.a.users:return d.a.createElement(oe,null);case q.a.photos:return d.a.createElement(ce,null)}}},{key:"render",value:function(){var e=this.props,t=e.search,n=e.isLoggedIn,r=e.routeData,a=ee(t,r.searchSubRoute),o=a.title,i=a.meta,s=a.canonicalUrl;return d.a.createElement("div",{"data-test":q.b.ROUTE},d.a.createElement(h.a,{title:o,meta:i,link:Object(g.e)(s)}),d.a.createElement("div",{className:c()(ne.a.clearfix,ne.a.searchHeaderContainer)},n?this.renderLoggedInPageHeader():this.renderSeoPageHeader(),d.a.createElement("div",{className:ne.a.container},d.a.createElement(z,{search:t}))),this.renderSearchSubroute())}}]),t}();ie.displayName="Search";var se=Object(b.createStructuredSelector)({search:R.a,searchXps:P.b,isLoggedIn:E.g}),ue=l()(Object(j.b)({routeType:j.a.DynamicRoute}),Object(m.connect)(se),C.b)(ie);n.d(t,"default",function(){return ue})},995:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});var r=n(0),a=n.n(r),o=n(16),c=n(11),i=n(218),s=n(101),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n};!function(e){e.StaticRoute="StaticRoute",e.DynamicRoute="DynamicRoute"}(l||(l={}));var d=function(e){var t=e.routeType;return function(e){var n=function(n){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r["Component"]),u(o,[{key:"componentDidUpdate",value:function(){t===l.DynamicRoute?this.props.dynamicRouteComponentUpdated({}):this.props.staticRouteComponentUpdated({})}},{key:"render",value:function(){var t=this.props,n=(t.dynamicRouteComponentUpdated,t.staticRouteComponentUpdated,p(t,["dynamicRouteComponentUpdated","staticRouteComponentUpdated"]));return a.a.createElement(e,Object.assign({},n))}}]),o}();n.displayName="TrackRouteUpdates("+Object(s.a)(e)+")";var d=Object(i.b)()({dynamicRouteComponentUpdated:c.a.DynamicRouteComponentUpdated,staticRouteComponentUpdated:c.a.StaticRouteComponentUpdated});return Object(o.connect)(function(){return{}},d)(n)}}}}]);
//# sourceMappingURL=search-route.acd2f.js.map